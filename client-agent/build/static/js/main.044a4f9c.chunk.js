(window["webpackJsonpclient-agent"]=window["webpackJsonpclient-agent"]||[]).push([[0],{46:function(e,t,a){e.exports=a(90)},51:function(e,t,a){},86:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(39),r=a.n(o),s=(a(51),a(10)),l=a(11),i=a(14),u=a(12),m=a(13),h=a(91),p=a(92),d=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(h.a,{color:"light"},c.a.createElement("div",{className:"navbar-header"},c.a.createElement(p.a,{className:"brand"},"easyQ"))))}}]),t}(n.Component),g=a(93),k=a(94),f=a(16),v=a.n(f),C=a(41),E=a.n(C),b=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).onPressed=function(e){var t=E()();localStorage.setItem("userData",t),v.a.post("https://easyq-backend.herokuapp.com/makeAgent",{id:t}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),a.props.history.push("/dash")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("userData")&&this.props.history.push("/dash")}},{key:"render",value:function(){return c.a.createElement(g.a,{className:"center-div"},c.a.createElement(k.a,{color:"primary",className:"createBut",onClick:this.onPressed,type:"submit"},"Create new agent"))}}]),t}(n.Component),y=a(17),j=a.n(y),O=a(22),N=a(42),S=a.n(N),x=a(43),w=a.n(x),D=a(23),I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={rating:0,value:0,isCompleted:!1,ticket:{}},a.getTicket=Object(O.a)(j.a.mark(function e(){var t;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("https://easyq-backend.herokuapp.com/getTicket",{agentId:localStorage.getItem("userData")});case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:t.data!=={}?(console.log(t.data),a.setState({ticket:t.data})):a.setState({ticket:{empty:!0}});case 10:case"end":return e.stop()}},e,null,[[0,6]])})),a.onStarClick=function(e,t,n){a.setState({rating:e})},a.onPress=function(e){localStorage.removeItem("userData"),a.props.history.push("/")},a.handleChange=function(e){console.log("change")},a.handleChangeStart=function(){console.log("Change event started")},a.handleChange=function(e){a.setState({value:e})},a.handleChangeComplete=Object(O.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(a.state.ticket.id),e.next=4,v.a.post("https://easyq-backend.herokuapp.com/makeCompleteUpdate",{rating:a.state.rating,mood:a.state.value,id:a.state.ticket.tid});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:console.log("Change event completed");case 10:case"end":return e.stop()}},e,null,[[0,6]])})),a.handleComplete=function(){a.setState({isCompleted:!0})},a.handleCompleteNext=function(){console.log("Next!!"),a.getTicket(),a.setState({rating:0,value:0})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("userData")||this.props.history.push("/"),this.getTicket(),console.log(this.state)}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(g.a,null,c.a.createElement(k.a,{color:"primary",onClick:this.onPress,type:"submit",className:"center-div2"},"Logout"),c.a.createElement("div",{className:"center-div3"},c.a.createElement("div",{className:"user-details"},c.a.createElement("h5",null,"Token"),this.state.ticket.empty&&c.a.createElement("h5",null,"No one left"),c.a.createElement("span",{className:"dot"},this.state.ticket.id),c.a.createElement("h5",null,this.state.ticket.first),c.a.createElement("h5",null,this.state.ticket.purpose)),c.a.createElement("h5",{className:"heading"},"Customer rating and mood:"),c.a.createElement("div",{className:"slider"},c.a.createElement(w.a,{min:0,max:100,value:this.state.value,onChangeStart:this.handleChangeStart,onChange:this.handleChange,onChangeComplete:this.handleChangeComplete}),c.a.createElement(D.Emojione,{text:":rage:"}),c.a.createElement(D.Emojione,{text:":grinning:",className:"grin"})),c.a.createElement(S.a,{className:"rating",name:"rate1",starCount:10,value:this.state.rating,onStarClick:this.onStarClick}),!this.state.isCompleted&&c.a.createElement(k.a,{color:"primary",className:"finalBut",onClick:this.handleComplete}," ","Completed"," "),this.state.isCompleted&&c.a.createElement(k.a,{color:"success",className:"finalBut",onClick:this.handleCompleteNext}," ","Next"," "))))}}]),t}(n.Component),T=a(15),B=(a(86),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(d,null),c.a.createElement(T.c,null,c.a.createElement(T.a,{exact:!0,path:"/",component:b}),c.a.createElement(T.a,{path:"/dash",component:I})))}}]),t}(n.Component)),P=a(21);a(89);r.a.render(c.a.createElement(P.a,null,c.a.createElement(B,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.044a4f9c.chunk.js.map